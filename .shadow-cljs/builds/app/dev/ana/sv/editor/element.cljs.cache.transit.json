["^ ","~:output",["^ ","~:js","goog.provide('sv.editor.element');\ngoog.require('cljs.core');\ngoog.require('sv.timeline.core');\ngoog.require('reagent.core');\ngoog.require('sv.animation.utils.functions');\nsv.editor.element.object_in_frame_QMARK_ = (function sv$editor$element$object_in_frame_QMARK_(element_state){\nreturn (((new cljs.core.Keyword(null,\"start\",\"start\",-355208981).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(element_state)) <= new cljs.core.Keyword(\"time\",\"current\",\"time/current\",-1089469958).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(sv.timeline.core.state)))) && ((new cljs.core.Keyword(\"time\",\"current\",\"time/current\",-1089469958).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(sv.timeline.core.state)) <= (new cljs.core.Keyword(null,\"start\",\"start\",-355208981).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(element_state)) + new cljs.core.Keyword(null,\"duration\",\"duration\",1444101068).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(element_state))))));\n});\nsv.editor.element.get_key_frames_index = (function sv$editor$element$get_key_frames_index(keyframes){\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (e){\nif((!((e == null)))){\nreturn e;\n} else {\nreturn null;\n}\n}),cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2((function (index,keyframe){\nif(((cljs.core.count(keyframes) - (1)) > index)){\nreturn new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"t0\",\"t0\",2120162535),keyframe,new cljs.core.Keyword(null,\"t1\",\"t1\",24972444),cljs.core.get.cljs$core$IFn$_invoke$arity$2(keyframes,(index + (1)))], null);\n} else {\nreturn null;\n}\n}),keyframes)));\n});\nsv.editor.element.get_animation = (function sv$editor$element$get_animation(t_STAR_,keyframe_pairs){\nreturn cljs.core.some((function (pair){\nvar t0 = new cljs.core.Keyword(null,\"t0\",\"t0\",2120162535).cljs$core$IFn$_invoke$arity$1(pair);\nvar t1 = new cljs.core.Keyword(null,\"t1\",\"t1\",24972444).cljs$core$IFn$_invoke$arity$1(pair);\nif((((new cljs.core.Keyword(null,\"t\",\"t\",-1397832519).cljs$core$IFn$_invoke$arity$1(t0) <= t_STAR_)) && ((t_STAR_ <= new cljs.core.Keyword(null,\"t\",\"t\",-1397832519).cljs$core$IFn$_invoke$arity$1(t1))))){\nreturn pair;\n} else {\nreturn null;\n}\n}),keyframe_pairs);\n});\nsv.editor.element.get_key_frames = (function sv$editor$element$get_key_frames(t_STAR_,keyframes){\nvar keyframe_indices = sv.editor.element.get_key_frames_index(keyframes);\nvar animation_seq = sv.editor.element.get_animation(t_STAR_,keyframe_indices);\nreturn animation_seq;\n});\n/**\n * Returns a normalized progress value [0,1]\n */\nsv.editor.element.normalize_progress = (function sv$editor$element$normalize_progress(progress,t0,t1){\nreturn ((progress - t0) / (t1 - t0));\n});\nsv.editor.element.get_progress = (function sv$editor$element$get_progress(t_STAR_,sequence){\nvar t0 = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(sequence,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"t0\",\"t0\",2120162535),new cljs.core.Keyword(null,\"t\",\"t\",-1397832519)], null));\nvar t1 = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(sequence,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"t1\",\"t1\",24972444),new cljs.core.Keyword(null,\"t\",\"t\",-1397832519)], null));\nvar fn = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(sequence,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"t1\",\"t1\",24972444),new cljs.core.Keyword(null,\"fn\",\"fn\",-1175266204)], null));\nvar duration = (t1 - t0);\nvar t_local = ((t_STAR_ - t0) / duration);\nvar p = (fn.cljs$core$IFn$_invoke$arity$1 ? fn.cljs$core$IFn$_invoke$arity$1(t_local) : fn.call(null,t_local));\nreturn p;\n});\nsv.editor.element.calc_value = (function sv$editor$element$calc_value(progress,sequence){\nvar v0 = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(sequence,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"t0\",\"t0\",2120162535),new cljs.core.Keyword(null,\"v\",\"v\",21465059)], null));\nvar v1 = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(sequence,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"t1\",\"t1\",24972444),new cljs.core.Keyword(null,\"v\",\"v\",21465059)], null));\nvar v = ((((1) - progress) * v0) + (progress * v1));\nreturn v;\n});\nsv.editor.element.interpolate_keyframes = (function sv$editor$element$interpolate_keyframes(t_STAR_,params){\nvar keyframes = new cljs.core.Keyword(null,\"keyframes\",\"keyframes\",-1437976012).cljs$core$IFn$_invoke$arity$1(params);\nvar current_seq = sv.editor.element.get_key_frames(t_STAR_,keyframes);\nif(cljs.core.truth_(current_seq)){\nvar progress = sv.editor.element.get_progress(t_STAR_,current_seq);\nvar v = sv.editor.element.calc_value(progress,current_seq);\nreturn v;\n} else {\nreturn null;\n}\n});\nsv.editor.element.get_keyframe_value = (function sv$editor$element$get_keyframe_value(t_STAR_,ui_data,attribute){\nvar animations = new cljs.core.Keyword(null,\"animations\",\"animations\",140711296).cljs$core$IFn$_invoke$arity$1(ui_data);\nvar attr = cljs.core.get.cljs$core$IFn$_invoke$arity$2(animations,attribute);\nvar or__4126__auto__ = sv.editor.element.interpolate_keyframes(t_STAR_,attr);\nif(cljs.core.truth_(or__4126__auto__)){\nreturn or__4126__auto__;\n} else {\nreturn cljs.core.get.cljs$core$IFn$_invoke$arity$2(ui_data,attribute);\n}\n});\nsv.editor.element.component = (function sv$editor$element$component(element_state){\nreturn reagent.core.create_class(new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"component-did-mount\",\"component-did-mount\",-1126910518),(function (this$){\nreturn null;\n}),new cljs.core.Keyword(null,\"reagent-render\",\"reagent-render\",-985383853),(function (){\nif(sv.editor.element.object_in_frame_QMARK_(element_state)){\nvar map__56569 = cljs.core.deref(element_state);\nvar map__56569__$1 = (((((!((map__56569 == null))))?(((((map__56569.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__56569.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__56569):map__56569);\nvar attrs = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__56569__$1,new cljs.core.Keyword(null,\"attrs\",\"attrs\",-2090668713));\nvar content = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__56569__$1,new cljs.core.Keyword(null,\"content\",\"content\",15833224));\nvar uuid = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__56569__$1,new cljs.core.Keyword(null,\"uuid\",\"uuid\",-2145095719));\nvar ui_data = new cljs.core.Keyword(\"ui\",\"data\",\"ui/data\",-232673621).cljs$core$IFn$_invoke$arity$1(attrs);\nvar scale = new cljs.core.Keyword(null,\"scale\",\"scale\",-230427353).cljs$core$IFn$_invoke$arity$1(ui_data);\nvar t_STAR_ = ((new cljs.core.Keyword(\"time\",\"current\",\"time/current\",-1089469958).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(sv.timeline.core.state)) - new cljs.core.Keyword(null,\"start\",\"start\",-355208981).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(element_state))) / new cljs.core.Keyword(null,\"duration\",\"duration\",1444101068).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(element_state)));\nvar opacity = sv.editor.element.get_keyframe_value(t_STAR_,ui_data,new cljs.core.Keyword(null,\"opacity\",\"opacity\",397153780));\nvar x_position = sv.editor.element.get_keyframe_value(t_STAR_,ui_data,new cljs.core.Keyword(null,\"x\",\"x\",2099068185));\nvar y_position = sv.editor.element.get_keyframe_value(t_STAR_,ui_data,new cljs.core.Keyword(null,\"y\",\"y\",-1757859776));\nvar width = sv.editor.element.get_keyframe_value(t_STAR_,ui_data,new cljs.core.Keyword(null,\"width\",\"width\",-384071477));\nvar height = sv.editor.element.get_keyframe_value(t_STAR_,ui_data,new cljs.core.Keyword(null,\"height\",\"height\",1025178622));\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"div\",\"div\",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"style\",\"style\",-496642736),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,\"opacity\",\"opacity\",397153780),(1),new cljs.core.Keyword(null,\"width\",\"width\",-384071477),[cljs.core.str.cljs$core$IFn$_invoke$arity$1((width * scale)),\"px\"].join(''),new cljs.core.Keyword(null,\"height\",\"height\",1025178622),[cljs.core.str.cljs$core$IFn$_invoke$arity$1((height * scale)),\"px\"].join(''),new cljs.core.Keyword(null,\"position\",\"position\",-2011731912),\"absolute\",new cljs.core.Keyword(null,\"transform\",\"transform\",1381301764),[\"translate(\",cljs.core.str.cljs$core$IFn$_invoke$arity$1((x_position * scale)),\"px,\",cljs.core.str.cljs$core$IFn$_invoke$arity$1((y_position * scale)),\"px)\"].join('')], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,\"draggable\",\"draggable\",1676206163),\"false\",new cljs.core.Keyword(null,\"style\",\"style\",-496642736),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"width\",\"width\",-384071477),\"100%\",new cljs.core.Keyword(null,\"height\",\"height\",1025178622),\"100%\",new cljs.core.Keyword(null,\"position\",\"position\",-2011731912),\"absolute\",new cljs.core.Keyword(null,\"opacity\",\"opacity\",397153780),opacity], null),new cljs.core.Keyword(null,\"src\",\"src\",-1651076051),new cljs.core.Keyword(null,\"src\",\"src\",-1651076051).cljs$core$IFn$_invoke$arity$1(attrs)], null)], null)], null);\n} else {\nreturn null;\n}\n})], null));\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","sv/editor/element.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",22],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$react","~$module$node_modules$react$index","~$react-dom","~$module$node_modules$react_dom$index"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:name","~$sv.editor.element","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$sv.timeline.core","^K","~$timeline","^K","~$reagent.core","^M","~$r","^M","~$sv.animation.utils.functions","^N","~$api","^N","~$cljs.core","^P","~$goog","^Q"],"~:seen",["^D",["~:require"]],"~:uses",null,"~:require-macros",["^ ","^P","^P","^M","^M","~$r","^M"],"~:form",["~#list",["~$ns","^F",["^W",["^S",["^K","~:as","^L"],["^M","^Y","~$r"],["^N","^Y","^O"]]]]],"~:flags",["^ ","^S",["^D",[]]],"~:js-deps",["^ "],"~:deps",["^Q","^P","^K","^M","^N"]],"^H","^F","~:resource-id",["~:shadow.build.classpath/resource","sv/editor/element.cljs"],"~:compiled-at",1601043262096,"~:resource-name","sv/editor/element.cljs","~:warnings",[],"~:source","(ns sv.editor.element\n  (:require [sv.timeline.core :as timeline]\n            [reagent.core :as r]\n            [sv.animation.utils.functions :as api]))\n\n(defn object-in-frame?\n  [element-state]\n  (<= (:start @element-state)\n    (:time/current @timeline/state)\n    (+ (:start @element-state)\n      (:duration @element-state))))\n\n(defn get-key-frames-index\n  [keyframes]\n  (doall\n    (filter\n      (fn [e]\n        (when (not (nil? e))\n          e))\n      (map-indexed\n        (fn [index keyframe]\n          (when (> (- (count keyframes)\n                     1)\n                  index)\n            {:t0 keyframe\n             :t1 (get keyframes (inc index))}))\n        keyframes))))\n\n(defn get-animation\n  [t* keyframe-pairs]\n  (some\n    (fn [pair]\n      (let [t0 (:t0 pair)\n            t1 (:t1 pair)]\n        (when (<= (:t t0)\n                  t*\n                  (:t t1))\n          pair)))\n    keyframe-pairs))\n\n(comment\n\n  (count [{:t 0.0}\n          {:t 0.1}])\n\n  (def k\n    (get-key-frames-index [{:t 0\n                            :v 0\n                            :fn api/linear}\n                           {:t 0.1\n                            :v 1\n                            :fn api/linear}\n                           {:t 0.9\n                            :v 1\n                            :fn api/linear}\n                           {:t 1\n                            :v 0\n                            :fn api/linear}]))\n\n  (get-animation 0.05 k)\n\n  )\n\n(defn get-key-frames\n  [t* keyframes]\n  (let [keyframe-indices (get-key-frames-index keyframes)\n        animation-seq (get-animation t* keyframe-indices)]\n    animation-seq))\n\n(defn normalize-progress\n  \"Returns a normalized progress value [0,1]\"\n  [progress t0 t1]\n  (/ (- progress t0)\n    (- t1 t0)))\n\n(defn get-progress\n  [t* sequence]\n  (let [t0 (get-in sequence [:t0 :t])\n        t1 (get-in sequence [:t1 :t])\n        fn (get-in sequence [:t1 :fn])\n        duration (- t1 t0)\n        t-local (/ (- t* t0)\n                  duration)\n        p (fn t-local)]\n    p))\n\n(defn calc-value\n  [progress sequence]\n  (let [v0 (get-in sequence [:t0 :v])\n        v1 (get-in sequence [:t1 :v])\n        v (+\n            (*\n              (- 1 progress)\n              v0)\n            (*\n              progress\n              v1))]\n    v))\n\n(defn interpolate-keyframes\n  [t* params]\n  (let [keyframes (:keyframes params)\n        current-seq (get-key-frames t* keyframes)]\n    (when current-seq\n      (let [progress (get-progress t* current-seq)\n            v (calc-value progress current-seq)]\n        v))))\n\n(defn get-keyframe-value\n  [t* ui-data attribute]\n  (let [animations (:animations ui-data)\n        attr (get animations attribute)]\n    (or (interpolate-keyframes t* attr)\n        (get ui-data attribute))))\n\n(defn component\n  [element-state]\n  (r/create-class\n    {:component-did-mount\n     (fn [this])\n     :reagent-render\n     (fn []\n       (when (object-in-frame? element-state)\n         (let [{:keys [attrs content uuid]} @element-state\n               ui-data (:ui/data attrs)\n               scale (:scale ui-data)\n               t* (/ (- (:time/current @timeline/state)\n                       (:start @element-state))\n                    (:duration @element-state))\n               opacity (get-keyframe-value t* ui-data :opacity)\n               x-position (get-keyframe-value t* ui-data :x)\n               y-position (get-keyframe-value t* ui-data :y)\n               width (get-keyframe-value t* ui-data :width)\n               height (get-keyframe-value t* ui-data :height)]\n\n           [:div\n            {:style {:opacity 1\n                     :width (str (* width scale) \"px\")\n                     :height (str (* height scale) \"px\")\n                     :position \"absolute\"\n                     :transform (str \"translate(\"\n                                  (* x-position scale) \"px,\"\n                                  (* y-position scale) \"px)\")}}\n            [:img\n             {:draggable \"false\"\n              :style {:width \"100%\"\n                      :height \"100%\"\n                      :position \"absolute\"\n                      :opacity opacity}\n              :src (:src attrs)}]])))}))","~:reader-features",["^D",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["sv.editor.element/object-in-frame?","element-state","cljs.core/deref","sv.timeline.core/state","sv.editor.element/get-key-frames-index","keyframes","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","e","cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2","index","keyframe","cljs.core/count","cljs.core.get.cljs$core$IFn$_invoke$arity$2","sv.editor.element/get-animation","t*","keyframe-pairs","cljs.core/some","pair","t0","t1","sv.editor.element/get-key-frames","keyframe-indices","animation-seq","sv.editor.element/normalize-progress","progress","sv.editor.element/get-progress","sequence","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","fn","duration","t-local","p","sv.editor.element/calc-value","v0","v1","v","sv.editor.element/interpolate-keyframes","params","current-seq","sv.editor.element/get-keyframe-value","ui-data","attribute","animations","attr","or__4126__auto__","sv.editor.element/component","reagent.core/create-class","this","map__56569","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","attrs","content","uuid","scale","opacity","x-position","y-position","width","height"]]],"~:cache-keys",["~#cmap",[["~:shadow.build.npm/resource","node_modules/react-dom/index.js"],[1598630799000,1598630799000,1595262809145,"~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^D",[]],"~:deps-syms",["~$shadow.js","~$module$node_modules$react_dom$cjs$react_dom_production_min","~$module$node_modules$react_dom$cjs$react_dom_development"]]],["^12","reagent/impl/batching.cljs"],[1599229531834,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","~$reagent.debug","~$reagent.impl.util"]]],["~:macro","^P"],[1598630791000],["^12","goog/math/math.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","~$goog.array","~$goog.asserts"]]],["^1I","^1G"],[1599229531000],["^12","goog/array/array.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^1K"]]],["^1?","node_modules/prop-types/checkPropTypes.js"],[1598630799000,1598630799000,1595262805307,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D","~$module$node_modules$prop_types$lib$ReactPropTypesSecret"]]],["^12","reagent/impl/util.cljs"],[1599229531834,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","~$clojure.string"]]],["^12","goog/debug/error.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^12","goog/dom/nodetype.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^1I","^M"],[1599229531000],["^1?","node_modules/scheduler/cjs/scheduler.development.js"],[1598630799000,1598630799000,1595262809175,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D"]]],["^12","reagent/ratom.cljs"],[1599229531834,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","^1H","^1G","~$reagent.impl.batching","~$clojure.set","~$goog.object"]]],["^1?","node_modules/scheduler/cjs/scheduler.production.min.js"],[1598630799000,1598630799000,1595262809175,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D"]]],["^1?","node_modules/scheduler/cjs/scheduler-tracing.production.min.js"],[1598630799000,1598630799000,1595262809175,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D"]]],["^1?","node_modules/react/index.js"],[1598630799000,1598630799000,1595262808877,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D","~$module$node_modules$react$cjs$react_production_min","~$module$node_modules$react$cjs$react_development"]]],["^12","shadow/js.js"],[1598630799647,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^12","goog/object/object.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^12","reagent/impl/template.cljs"],[1599229531834,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","^?","^1M","~$clojure.walk","^1H","~$reagent.impl.component","^1N","~$reagent.ratom","^1G","^1P"]]],["^1?","node_modules/react-dom/cjs/react-dom.production.min.js"],[1598630799000,1598630799000,1595262809145,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D","^?","~$module$node_modules$object_assign$index","~$module$node_modules$scheduler$index"]]],"~:SHADOW-TIMESTAMP",[1598630799000,1598630791000],["^1?","node_modules/react/cjs/react.development.js"],[1598630799000,1598630799000,1595262808877,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D","^1V","~$module$node_modules$prop_types$checkPropTypes"]]],["^1I","^1U"],[1599229531000],["^12","animation_prototype/combine.cljs"],[1596534489478,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P"]]],["^12","goog/math/long.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^1K","~$goog.reflect"]]],["^12","goog/string/internal.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^1?","node_modules/scheduler/cjs/scheduler-tracing.development.js"],[1598630799000,1598630799000,1595262809175,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D"]]],["^12","goog/functions/functions.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^12","reagent/impl/component.cljs"],[1599229531834,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","^1P","^?","^1H","^1N","^1U","^1G"]]],["^12","clojure/walk.cljs"],[1598630791482,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P"]]],["^12","goog/structs/map.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^1?","node_modules/scheduler/index.js"],[1598630799000,1598630799000,1595262809175,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D","~$module$node_modules$scheduler$cjs$scheduler_production_min","~$module$node_modules$scheduler$cjs$scheduler_development"]]],["^12","goog/asserts/asserts.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","~$goog.debug.Error","~$goog.dom.NodeType"]]],["^12","goog/uri/uri.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^1J","^1K","~$goog.string","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^12","sv/animation/utils/functions.cljs"],[1599826701494,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","~$animation-prototype.loop","~$animation-prototype.timing","~$animation-prototype.combine"]]],["^1?","node_modules/object-assign/index.js"],[1598630799000,1598630799000,1595262804864,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D"]]],["^12","sv/editor/element.cljs"],[1601043261708,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","^K","^M","^N"]]],["^12","animation_prototype/timing.cljs"],[1596534489478,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P"]]],["^12","goog/base.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",[]]],["^12","goog/structs/structs.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^1J","^1P"]]],["^12","clojure/string.cljs"],[1598630791482,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","^25","~$goog.string.StringBuffer"]]],["^1?","node_modules/react/cjs/react.production.min.js"],[1598630799000,1598630799000,1595262808877,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D","^1V"]]],["^12","goog/string/string.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","~$goog.string.internal"]]],["^12","goog/reflect/reflect.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^12","reagent/core.cljs"],[1599229531834,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","^?","~$reagent.impl.template","^1T","^1H","^1N","^1U","^1G","~$reagent.dom"]]],["^12","animation_prototype/loop.cljs"],[1600075345257,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P"]]],["^12","goog/string/stringbuffer.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^12","goog/iter/iter.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^1J","^1K","~$goog.functions","~$goog.math"]]],["^12","reagent/dom.cljs"],[1599229531834,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","^A","^1H","^2@","^1N","^1U"]]],["^1?","node_modules/prop-types/lib/ReactPropTypesSecret.js"],[1598630799000,1598630799000,1595262805307,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D"]]],["^12","cljs/core.cljs"],[1598630791482,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["~$goog.math.Long","~$goog.math.Integer","^25","^1P","^1J","~$goog.Uri","^2>"]]],["^12","reagent/debug.cljs"],[1599229531834,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P"]]],["^12","goog/math/integer.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q"]]],["^1?","node_modules/scheduler/tracing.js"],[1598630799000,1598630799000,1595262809175,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D","~$module$node_modules$scheduler$cjs$scheduler_tracing_production_min","~$module$node_modules$scheduler$cjs$scheduler_tracing_development"]]],["^1?","node_modules/react-dom/cjs/react-dom.development.js"],[1598630799000,1598630799000,1595262809145,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^1D","^?","^1V","^1W","^1Y","~$module$node_modules$scheduler$tracing"]]],["^12","clojure/set.cljs"],[1598630791482,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P"]]],["^12","goog/uri/utils.js"],[1597226449268,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^1J","^1K","^25"]]],["^12","sv/timeline/core.cljs"],[1600948056780,"^1@",["^ ","^1A",null,"^1B",["^D",[]],"^1C",["^Q","^P","^M"]]]]],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","sv/editor/element.cljs","^7",1,"^8",5,"^9",1,"^:",22],"^;",["^ ","^<","^=","^>","^?","^@","^A"],"^B",null,"^C",["^D",[]],"^E","^F","^I",null,"^J",["^ ","^K","^K","^L","^K","^M","^M","~$r","^M","^N","^N","^O","^N","^P","^P","^Q","^Q"],"^R",["^D",["^S"]],"^T",null,"~:defs",["^ ","~$get-key-frames-index",["^ ","~:protocol-inline",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",13,"^8",7,"^9",13,"^:",27,"~:arglists",["^W",["~$quote",["^W",[["~$keyframes"]]]]]],"^E","~$sv.editor.element/get-key-frames-index","^6","sv/editor/element.cljs","^:",27,"~:method-params",["^W",[["^2P"]]],"~:protocol-impl",null,"~:arglists-meta",["^W",[null,null]],"^8",1,"~:variadic?",false,"^7",13,"~:ret-tag","~$any","^9",13,"~:max-fixed-arity",1,"~:fn-var",true,"^2N",["^W",["^2O",["^W",[["^2P"]]]]]],"~$get-animation",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",29,"^8",7,"^9",29,"^:",20,"^2N",["^W",["^2O",["^W",[["~$t*","~$keyframe-pairs"]]]]]],"^E","~$sv.editor.element/get-animation","^6","sv/editor/element.cljs","^:",20,"^2R",["^W",[["^2[","^30"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",29,"^2V",["^D",["^2W","~$clj-nil"]],"^9",29,"^2X",2,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^2[","^30"]]]]]],"~$get-progress",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",76,"^8",7,"^9",76,"^:",19,"^2N",["^W",["^2O",["^W",[["^2[","~$sequence"]]]]]],"^E","~$sv.editor.element/get-progress","^6","sv/editor/element.cljs","^:",19,"^2R",["^W",[["^2[","^34"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",76,"^2V","^2W","^9",76,"^2X",2,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^2[","^34"]]]]]],"~$object-in-frame?",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",6,"^8",7,"^9",6,"^:",23,"^2N",["^W",["^2O",["^W",[["~$element-state"]]]]]],"^E","~$sv.editor.element/object-in-frame?","^6","sv/editor/element.cljs","^:",23,"^2R",["^W",[["^37"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",6,"^2V","~$boolean","^9",6,"^2X",1,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^37"]]]]]],"~$get-keyframe-value",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",109,"^8",7,"^9",109,"^:",25,"^2N",["^W",["^2O",["^W",[["^2[","~$ui-data","~$attribute"]]]]]],"^E","~$sv.editor.element/get-keyframe-value","^6","sv/editor/element.cljs","^:",25,"^2R",["^W",[["^2[","^3;","^3<"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",109,"^2V",["^D",["^2W","~$number","^32"]],"^9",109,"^2X",3,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^2[","^3;","^3<"]]]]]],"~$component",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",116,"^8",7,"^9",116,"^:",16,"^2N",["^W",["^2O",["^W",[["^37"]]]]]],"^E","~$sv.editor.element/component","^6","sv/editor/element.cljs","^:",16,"^2R",["^W",[["^37"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",116,"^2V","~$function","^9",116,"^2X",1,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^37"]]]]]],"~$calc-value",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",87,"^8",7,"^9",87,"^:",17,"^2N",["^W",["^2O",["^W",[["~$progress","^34"]]]]]],"^E","~$sv.editor.element/calc-value","^6","sv/editor/element.cljs","^:",17,"^2R",["^W",[["^3C","^34"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",87,"^2V","^3>","^9",87,"^2X",2,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^3C","^34"]]]]]],"~$normalize-progress",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",70,"^8",7,"^9",70,"^:",25,"^2N",["^W",["^2O",["^W",[["^3C","~$t0","~$t1"]]]]],"~:doc","Returns a normalized progress value [0,1]"],"^E","~$sv.editor.element/normalize-progress","^6","sv/editor/element.cljs","^:",25,"^2R",["^W",[["^3C","^3F","^3G"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",70,"^2V","^3>","^9",70,"^2X",3,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^3C","^3F","^3G"]]]]],"^3H","Returns a normalized progress value [0,1]"],"~$interpolate-keyframes",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",100,"^8",7,"^9",100,"^:",28,"^2N",["^W",["^2O",["^W",[["^2[","~$params"]]]]]],"^E","~$sv.editor.element/interpolate-keyframes","^6","sv/editor/element.cljs","^:",28,"^2R",["^W",[["^2[","^3K"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",100,"^2V",["^D",["^3>","^32"]],"^9",100,"^2X",2,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^2[","^3K"]]]]]],"~$get-key-frames",["^ ","^2M",null,"^5",["^ ","^6","sv/editor/element.cljs","^7",64,"^8",7,"^9",64,"^:",21,"^2N",["^W",["^2O",["^W",[["^2[","^2P"]]]]]],"^E","~$sv.editor.element/get-key-frames","^6","sv/editor/element.cljs","^:",21,"^2R",["^W",[["^2[","^2P"]]],"^2S",null,"^2T",["^W",[null,null]],"^8",1,"^2U",false,"^7",64,"^2V",["^D",["^2W","^32"]],"^9",64,"^2X",2,"^2Y",true,"^2N",["^W",["^2O",["^W",[["^2[","^2P"]]]]]]],"^U",["^ ","^P","^P","^M","^M","~$r","^M"],"~:cljs.analyzer/constants",["^ ","^R",["^D",["~:y","~:animations","~:v","~:fn","~:transform","~:t0","~:scale","~:content","~:component-did-mount","~:width","~:start","~:ui/data","~:duration","~:src","~:style","~:div","~:reagent-render","~:draggable","~:opacity","~:keyframes","~:attrs","~:position","~:t","~:x","~:uuid","~:time/current","~:t1","~:img","~:height"]],"~:order",["^3X","^49","^3Z","^3S","^4:","~:t","^3Q","~:v","^45","^3P","^3V","^42","^46","^3U","^48","^3Y","^3T","^44","~:x","~:y","^3W","^4<","^41","^40","^47","^3R","^4;","^43","^3["]],"^Z",["^ ","^S",["^D",[]]],"^[",["^ "],"^10",["^Q","^P","^K","^M","^N"]],"^H","^F","~:ns-specs",["^ "],"~:ns-speced-vars",[],"~:compiler-options",["^1>",[["^4@","~:static-fns"],true,["^4@","~:elide-asserts"],false,["^4@","~:optimize-constants"],null,["^4@","^15"],null,["^4@","~:external-config"],null,["^4@","~:tooling-config"],null,["^4@","~:emit-constants"],null,["^4@","~:load-tests"],null,["^4@","~:infer-externs"],true,["^4@","^17"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^4@","~:fn-invoke-direct"],null,["^4@","~:source-map"],"/dev/null"]]]